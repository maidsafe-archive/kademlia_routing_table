<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `RoutingTable` struct in crate `kademlia_routing_table`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, RoutingTable">

    <title>kademlia_routing_table::RoutingTable - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">

    <link rel="shortcut icon" href="http://maidsafe.net/img/favicon.ico">
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <a href='../kademlia_routing_table/index.html'><img src='https://raw.githubusercontent.com/maidsafe/QA/master/Images/maidsafe_logo.png' alt='' width='100'></a>
        <p class='location'><a href='index.html'>kademlia_routing_table</a></p><script>window.sidebarCurrent = {name: 'RoutingTable', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>kademlia_routing_table</a>::<wbr><a class='struct' href=''>RoutingTable</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-80' class='srclink' href='../src/kademlia_routing_table/lib.rs.html#204-208' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct RoutingTable&lt;T, U&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>A routing table to manage connections for a node.</p>

<p>It maintains a list of <code>NodeInfo</code>s representing connections to peer nodes, and provides
algorithms for routing messages.</p>

<p>See the <a href="index.html">crate documentation</a> for details.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl&lt;T, U&gt; <a class='struct' href='../kademlia_routing_table/struct.RoutingTable.html' title='kademlia_routing_table::RoutingTable'>RoutingTable</a>&lt;T, U&gt; <span class='where'>where T: <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html' title='core::cmp::PartialEq'>PartialEq</a> + <a class='trait' href='../kademlia_routing_table/trait.HasName.html' title='kademlia_routing_table::HasName'>HasName</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a>, U: <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html' title='core::cmp::PartialEq'>PartialEq</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a></span></code></h3><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(our_name: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>) -&gt; <a class='struct' href='../kademlia_routing_table/struct.RoutingTable.html' title='kademlia_routing_table::RoutingTable'>RoutingTable</a>&lt;T, U&gt;</code></h4>
<div class='docblock'><p>Creates a new routing table for the node with the given name.</p>
</div><h4 id='method.add_node' class='method'><code>fn <a href='#method.add_node' class='fnname'>add_node</a>(&amp;mut self, their_info: <a class='struct' href='../kademlia_routing_table/struct.NodeInfo.html' title='kademlia_routing_table::NodeInfo'>NodeInfo</a>&lt;T, U&gt;) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>, <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='struct' href='../kademlia_routing_table/struct.NodeInfo.html' title='kademlia_routing_table::NodeInfo'>NodeInfo</a>&lt;T, U&gt;&gt;)</a></code></h4>
<div class='docblock'><p>Adds a contact to the routing table.  If the contact is added, the first return arg is true,
otherwise false.  If adding the contact caused another contact to be dropped, the dropped
one is returned in the second field, otherwise the optional field is empty.</p>
</div><h4 id='method.add_connection' class='method'><code>fn <a href='#method.add_connection' class='fnname'>add_connection</a>(&amp;mut self, their_name: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>, connection: U) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Adds a connection to an existing entry.  Should be called after <code>has_node</code>. The return
indicates if the given connection was added to an existing NodeInfo.</p>
</div><h4 id='method.want_to_add' class='method'><code>fn <a href='#method.want_to_add' class='fnname'>want_to_add</a>(&amp;self, their_name: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>This is used to check whether it is worthwhile trying to connect to the peer with a view to
adding the contact to our routing table, i.e. would this contact improve our table.  The
checking procedure is the same as for <code>add_node</code>, except for the lack of a public key to
check in step 1.</p>
</div><h4 id='method.dynamic_quorum_size' class='method'><code>fn <a href='#method.dynamic_quorum_size' class='fnname'>dynamic_quorum_size</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the current calculated quorum size.</p>

<p>If it is known that the network has at least <code>GROUP_SIZE</code> nodes, this returns the constant
<code>QUORUM_SIZE</code>. For networks smaller than that, the quorum might not be reachable, so a
smaller number is computed which represents a strict majority in the current network.</p>
</div><h4 id='method.drop_node' class='method'><code>fn <a href='#method.drop_node' class='fnname'>drop_node</a>(&amp;mut self, node_to_drop: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>)</code></h4>
<div class='docblock'><p>This unconditionally removes the contact from the table.</p>
</div><h4 id='method.drop_connection' class='method'><code>fn <a href='#method.drop_connection' class='fnname'>drop_connection</a>(&amp;mut self, lost_connection: &amp;U) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>&gt;</code></h4>
<div class='docblock'><p>This should be called when a connection has dropped.  If the
affected entry has no connections after removing this one, the entry is removed from the
routing table and its name is returned.  If the entry still has at least one connection, or
an entry cannot be found for &#39;lost_connection&#39;, the function returns &#39;None&#39;.</p>
</div><h4 id='method.target_nodes' class='method'><code>fn <a href='#method.target_nodes' class='fnname'>target_nodes</a>(&amp;self, target: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../kademlia_routing_table/struct.NodeInfo.html' title='kademlia_routing_table::NodeInfo'>NodeInfo</a>&lt;T, U&gt;&gt;</code></h4>
<div class='docblock'><p>Returns a collection of nodes to which a message should be sent onwards.</p>

<p>It will return <code>GROUP_SIZE</code> contacts if we are close to the <code>target</code>. Otherwise, it will
return only the target node itself, if it is in our contacts. If not, it returns the
<code>PARALLELISM</code> closest contacts to the target.</p>
</div><h4 id='method.our_close_group' class='method'><code>fn <a href='#method.our_close_group' class='fnname'>our_close_group</a>(&amp;self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../kademlia_routing_table/struct.NodeInfo.html' title='kademlia_routing_table::NodeInfo'>NodeInfo</a>&lt;T, U&gt;&gt;</code></h4>
<div class='docblock'><p>This returns our close group, i.e. the <code>GROUP_SIZE</code> contacts closest to our name (or the
entire table if we hold less than <code>GROUP_SIZE</code> contacts in total) sorted by closeness to us.</p>
</div><h4 id='method.is_close' class='method'><code>fn <a href='#method.is_close' class='fnname'>is_close</a>(&amp;self, name: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Returns <code>true</code> if there are fewer than <code>GROUP_SIZE</code> nodes in our routing table that are
closer to <code>name</code> than we are.</p>

<p>In other words, it returns <code>true</code> whenever we cannot rule out that we might be among the
<code>GROUP_SIZE</code> closest nodes to <code>name</code>.</p>

<p>If the routing table is filled in such a way that each bucket contains <code>GROUP_SIZE</code>
elements unless there aren&#39;t enough such nodes in the network, then this criterion is
actually sufficient! In that case, <code>true</code> is returned if and only if we are among the
<code>GROUP_SIZE</code> closest node to <code>name</code> in the network.</p>
</div><h4 id='method.len' class='method'><code>fn <a href='#method.len' class='fnname'>len</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Number of entries in the routing table.</p>
</div><h4 id='method.is_empty' class='method'><code>fn <a href='#method.is_empty' class='fnname'>is_empty</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Returns <code>true</code> if there are no entries in the routing table.</p>
</div><h4 id='method.our_name' class='method'><code>fn <a href='#method.our_name' class='fnname'>our_name</a>(&amp;self) -&gt; &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a></code></h4>
<div class='docblock'><p>Returns the name of the node this routing table is for.</p>
</div><h4 id='method.get' class='method'><code>fn <a href='#method.get' class='fnname'>get</a>(&amp;self, name: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;<a class='struct' href='../kademlia_routing_table/struct.NodeInfo.html' title='kademlia_routing_table::NodeInfo'>NodeInfo</a>&lt;T, U&gt;&gt;</code></h4>
<div class='docblock'><p>Returns the <code>NodeInfo</code> with the given name, if it is in the routing table.</p>
</div><h4 id='method.try_confirm_safe_group_distance' class='method'><code>fn <a href='#method.try_confirm_safe_group_distance' class='fnname'>try_confirm_safe_group_distance</a>(&amp;self, address1: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>, address2: &amp;<a class='struct' href='../xor_name/struct.XorName.html' title='xor_name::XorName'>XorName</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Use this to calculate incoming messages for instance &quot;fit&quot; in this bucket distance
when confirming a group is who it says it is. This is a partial check, not full
security.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "kademlia_routing_table";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>